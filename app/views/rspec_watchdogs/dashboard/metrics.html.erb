<style>
    :root {
        --primary-color: #3498db;
        --secondary-color: #2ecc71;
        --background-light: #f4f6f7;
        --text-dark: #2c3e50;
    }
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        background-color: var(--background-light);
        margin: 0;
        color: var(--text-dark);
    }
    .dashboard {
        max-width: 900px;
        margin: 0 auto;
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        padding: 30px;
    }
    .dashboard-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid var(--primary-color);
        padding-bottom: 15px;
        margin-bottom: 20px;
    }
    .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }
    .metric-card {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        transition: transform 0.3s ease;
    }
    .metric-card:hover {
        transform: scale(1.05);
    }
    .metric-icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
    }
    .metric-value {
        font-size: 2rem;
        font-weight: bold;
        color: var(--primary-color);
    }
    .metric-label {
        color: #6c757d;
        font-size: 0.9rem;
    }
    .action-button {
        display: block;
        width: 250px;
        margin: 30px auto;
        padding: 12px 20px;
        background-color: var(--primary-color);
        color: white;
        text-align: center;
        text-decoration: none;
        border-radius: 6px;
        transition: background-color 0.3s ease;
    }
    .action-button:hover {
        background-color: #2980b9;
    }

    .detailed-results {
        margin-top: 30px;
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
    }
    .results-grid {
        display: flex;
        justify-content: space-between;
    }
    .results-column {
        width: 48%;
    }
    .results-table {
        width: 100%;
        border-collapse: collapse;
    }
    .results-table th,
    .results-table td {
        border: 1px solid #e0e0e0;
        padding: 8px;
        text-align: left;
    }
    .results-table thead {
        background-color: #f1f3f5;
    }
    .results-table tr:nth-child(even) {
        background-color: #f8f9fa;
    }
</style>
<div class="dashboard">
  <div class="dashboard-header">
    <h1>üîç Rspec Watchdogs Dashboard</h1>
    <div class="total-metrics">
      Total M√©tricas: <%= @metrics.count %>
    </div>
  </div>

  <div class="stability-analysis">
    <h3>üìä Stability Analysis</h3>
    <ul>
      <li>Total Tests: <%= @total_tests %></li>
      <li>Passed Tests: <%= @passed_percentage %>%</li>
      <li>Failed Tests: <%= @failed_percentage %>%</li>
      <li>Pending Tests: <%= @pending_percentage %>%</li>
    </ul>
  </div>

  <!-- Secci√≥n de Average Time -->
  <div class="average-time">
    <h3>üïí Average Execution Time</h3>
    <p class="average-time-value">
      <%= sprintf('%.4f', @average_time) %> seconds
    </p>
  </div>

  <!-- Secci√≥n de Fastest Test -->
  <div class="fastest-test">
    <h3>‚ö° Fastest Test</h3>
    <p class="fastest-test-description">
      <%= @fastest_test.description %> (Time: <%= sprintf('%.4f', @fastest_test.run_time) %> s)
    </p>
  </div>

  <!-- Secci√≥n de Slowest Test -->
  <div class="slowest-test">
    <h3>üê¢ Slowest Test</h3>
    <p class="slowest-test-description">
      <%= @slowest_test.description %> (Time: <%= sprintf('%.4f', @slowest_test.run_time) %> s)
    </p>
  </div>

  <!-- Secci√≥n de Percentiles -->
  <div class="percentiles">
    <h3>üìä Percentiles</h3>
    <ul>
      <% @percentiles.each do |percentile| %>
        <li>
          <%= percentile[:percentile] %>%: <%= percentile[:description] %> (Time: <%= sprintf('%.4f', percentile[:run_time]) %> s)
        </li>
      <% end %>
    </ul>
  </div>

  <!-- Secci√≥n de Failed Tests -->
  <div class="failed-tests">
    <h3>‚ùå Failed Tests</h3>
    <ul>
      <% @failed_tests.each do |test| %>
        <li><%= test.description %> (File: <%= test.file_path %>, Location: <%= test.location %>)</li>
      <% end %>
    </ul>
  </div>

  <!-- Secci√≥n de Time Distribution Analysis -->
  <div class="time-distribution">
    <h3>üìÖ Time Distribution Analysis</h3>
    <ul>
      <% @time_distribution_analysis.each do |category, count| %>
        <li><%= category %>: <%= count %> tests</li>
      <% end %>
    </ul>
  </div>

  <!-- Tabla de Tests -->
  <h2>üìä Tests</h2>
  <table class="results-table">
    <thead>
      <tr>
        <th>Description</th>
        <th>File</th>
        <th>Location</th>
        <th>Execution Time (s)</th>
      </tr>
    </thead>
    <tbody>
      <% @metrics.each do |metric| %>
        <tr>
          <td><%= metric.description %></td>
          <td><%= metric.file_path %></td>
          <td><%= metric.location %></td>
          <td><%= sprintf('%.4f', metric.run_time) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

